# 服务端应用

## NodeJS

### 单线程

Node 本身是一个单线程事件驱动的执行环境
好处：速度快、管理服务器资源方面效率高
坏处：如果同步方式调用的函数占用时间太久会阻塞线程，所以需要异步编程（用回调函数拿到回调值）

### 跨平台的运行时

使用 JS 创建服务器端工具和应用程序，可以脱离浏览器上下文，直接应用在计算机或服务器的操作系统上
所以也添加了对 OS API 的支持，比如 HTTP、fs 等，底层是用 C++写的

### 优化 Web 应用

可以大大优化 web 应用的吞吐量、扩展度，可以开发实时 web 应用

## Express

基于 Node.js 的 Node 框架，是许多其他流行 Node 框架的底层库（比如 Next.js）

### 中间件(Middleware)

中间件的常见使用场景:
--- 提供错误处理静态文件
--- 压缩 HTTP 响应
--- cookie、会话、用户身份验证
--- 访问请求 post 和 JSON 数据
--- 日志记录

中间件可以执行任何操作，运行任何代码，如果没有结束循环必须调用 next 函数将控制权交给下一个中间件
绝大多数情况下要先调用中间件后设置路由，否则路由处理器将无法访问中间件的功能，而错误处理中间件要在所有中间件函数栈的末尾

可以使用`app.use()`添加中间件，以及是应用于特定路由还是所有路由
